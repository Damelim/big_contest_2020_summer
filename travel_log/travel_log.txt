*** 앞으로 여기에 각자 무엇을 했는지 시간순으로 상세히 적으면 편할 것이라 생각함 ***

*** 본인 앞의 과정들은 내가 매우 자세히 적어 놓았음 ***

Aug 4, 2020 15:00~ 17:00 전체 회의

- 삭제, 추가할 변수들 의논

- 팀의 잔여 타율 방어율 승률을 한번에 예측 X. 가령 Nexen을 예측한다 하자. 잔여 경기가 A팀이랑 3번, B팀이랑 4번, C팀이랑 5번 있다고 치자.
4조의 접근 방식은 A A A B B B B C C C C C 각 경기를 예측하는 것이 아니라 12경기를 aggregate 한 98이닝짜리 하나 시합을 예측한다.
이 때 선수들 개개인이 98이닝 동안 어떤 performance를 보일지 예측하는 것이다.

98이닝 동안의 타율, 방어율은 공식대로 나온다. 
승률은 Pythagorian ~~로 보정하여 구한다.

- 개인 > 팀의 이유는:

1) 2016~20동안 팀의 성적(대표적인 순위 변동을 그래프로 inspect)이 매우 크게 변한다. 그러나 선수의 성적은 이보다 변동성이 적다.

4조 조원 모두가 생각해 볼 반박 Q) 팀의 성적은 선수 성적으로 이루어진 것 아닌가? 어떻게 팀 성적은 급변, 개인 성적은 그래도 stable?
내가 생각한 반박에 대한 defense A) 한 팀을 구성하는 많은 선수들의 시즌별 성적 변동 요소가 모여 팀 성적의 변동이 나오게 된 것이다.
                                                눈덩어리가 불어났다.

2) 야구는 play와 play 간의 독립성이 큰 스포츠이다. 팀 동료들의 성적이 개인의 성적에 미치는 영향이 (방어율 / 타율에서는) 비교적 작다.

**동료 선수들 실력이 좋으면 base에 사람들 많이 나가서 point가 많이 생기는 거 아냐? 에 대한 defense logic 필요**







Aug 5, 2020 14:00 조유림 학회원

EDA.ipynb

1) 타자 / 투수 연도별 데이터 concat 및 변수삭제

2) 개인타자 관련 변수 추가 
AVG  타율
OBP 출루율
SB_trial : stolen base trial
SB_SR : stolen base success rate

3) 개인투수 관련 변수 추가

ERA : 방어율

4) 영어 이름으로 저장 (앞으로 이 이름으로 통일하기로 암묵적 합의가 있는 것으로 개인적으로 생각함)












Aug 5, 2020 21:30 홍익선 학회원

EDA_hong.ipynb

1) concatenation -> 완료된 상태

2) NA check

- 연봉 : 벤헤켄 한 명 na인데 연봉은 빼기로 했음


3) 파생변수 추가 : 추가된 데이터가 코드에는 있으나 데이터에는 반영이 되지 않았는데, 뒤의 임선우 학회원이 반영함.












Aug 5, 2020 23:30~03:00 임선우 학회원

1) 앞에까지 회원들이 한 일들과 앞으로 나 이후로 할 일들의 travel log(이 메모장같은거)이 있었으면 하여 travel_log 파일을 세세하게 작성. 

2) 조유림 학회원의 영어이름으로 바뀐 파일, eda로 만들어진 파일들이 eda_code 파일에 들어가 있었는데, 그 파일을 "eda_data"파일로 옮겼다

3) modeling_code라는 폴더에 7월 31일 제출한 제주 dacon 대회에서 내가 만든 최종 모델 코드를 담았다. 
Random Forest regression, adaboost regression, light gradient boosting regression 3개를 후보로 한 Voting Regression에 대한 코드이다.
참조하거나 안하거나. 나중에 모델링 과정에서 마음대로 하면 될 것이다.

4) 시즌별 팀의 성적 순위 편차가 매우 크다는 TIME SERIES PLOT (R로 그림). PPT에 "개인별 모델링을 한 이유"라는 항목에 집어넣음 좋을 것이다. 

citing : https://ko.wikipedia.org/wiki/KBO_리그_연도별_팀_순위#2010년대

주의: 4)는 모델링과 직접적으로 연관성이 없다. 단지 ppt에 담으면 좋을 그림일 뿐이다. 왜 개인별 접근을 하였는가?에 대한 이유 중 하나일 뿐임

html : pointer가 구현될 수 있으며 2015.5, 2016.5 등등 원하지 않는 x축 값들이 있는데 이건 화면을 축소하면 된다
png : pointer가 구현될 수 없다.

5) 홍익선 학회원의 타자 파생변수를 column 추가. 투수는 추가 파생변수가 없었음.

6) HEATMAP을 그리기 위한 타율, 방어율을 설명할 수치형 설명변수 뽑기

**여기서 난제 : 타율을 예측할 때 타수, 안타 수, 2루타 수, 3루타 수, 홈런 수, 장타율 같은 것들이 들어갈 수 있는가?**

타율은 타수, 안타수, 2루타수, 홈런수의 mathematical function이다! 이것은 곧 bmi를 예측하기 위해서 키와 몸무게를 다 넣는 것과 같다고 할까?

한 마디로 다중공선성이 극심할 것이라는 것이다.

일단 지금은 생각만 해놓고 웬만한 변수들은 넣어 놓았다. 나중에 협의한 다음 뺄 수도 있겠다.

투수도 마찬가지다.

6) HEATMAP 그리기!

6-1) 타자 변수의 heatmap 생성. 이 heat맵은 X변수들끼리 상관관계 (선형이기는 하지만!)에 대한 insight 제공
6-2) 투수 변수의 heatmap 생성. 이 heat맵은 X변수들끼리 상관관계 (선형이기는 하지만!)에 대한 insight 제공

6-3) 독립변수들끼리 매우 상관관계가 높은 것들이 있을 때, 그들 중 어떤 것을 빼는 것을 제안. 
내가 제안하는 빼면 좋겠을 변수의 기준은 *다른* X변수들과 연관성이 큰 것들이다.

가령, X1,X2, ...,X25까지 독립변수들의 pool이라 하고 X1,X2 둘 간의 상관관계가 크다고 하자.
만약 X1은 X3~X25와의 상관성이 적은 반면, X2는 X3~25와 상관성이 크다면 X2를 삭제하는 것이 나을 것이라는 IDEA

7) 임선우 학회원이 던지는 개인적인 질문 :  7-2)가 매우 중요하다 개인적으로 생각.

7-1) 확실히 한 선수의 한 경기 성과를 row로 구성하면 row 하나씩은 x변수들과 y변수들 모두 매우 불안정한 수치가 된다. 이 현상은 괜찮은 것인가? 괜찮지 않다면 어떠한 접근을 택해야 할 것인가?
가령, 타율은 가령 0,0.5,0.333,0.666,0.75 같은 숫자들, 방어율은 0,1, 1.5,3,4.5 9, 18, 27, 81 등등으로 스텝 변수가 되어버림.
 
7-2) 타율을 예측하는 설명변수로 타수, 안타 수, 2루타 수, 3루타 수, 홈런 수, 장타율 같은 것들이 들어갈 수 있는가?

      이것들을 넣는 것은 BMI를 예측할 때 설명변수로 키와 몸무게를 다 넣는 것과 똑같은 것이 아닌가?

진짜 쉬운 설명으로, Y를 예측하기 위해 두가지 설명변수를 X1 = X, X2 = Y-X로 넣는것과 똑같은 거다...


8) 새로 변경된 개인타자 데이터를 private_batter_add_variable.csv로 저장. 왜 이렇게 했는지는 코드에서 설명.

